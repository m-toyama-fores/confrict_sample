<!DOCTYPE html>
<html>

<head>
    <base target="_top">
    <script type='text/javascript'>
        //ダウンロード実行
        function handleDownload() {
            //JSONデータの取得
            var content = <?= getData(); ?>;
            var name = <?= name(); ?>;
            //ダウンロード用URL生成
            var blob = new Blob([content], { "type": "application/json" });
            document.getElementById("download").href = window.URL.createObjectURL(blob);
            document.getElementById("download").setAttribute("download", name);
        }
    </script>
</head>

<body>
    <!-- JSONダウンロードボタン：json名は適宜設定してください-->
    <a id="download" href="#" download="test" onclick="handleDownload()">ダウンロード</a>
</body>

</html>